<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="./style.css">
    <script src="//code.jquery.com/jquery.min.js"></script>
    <style>
        #introduction {
            width: 70%;
            margin-left: 15%;
            margin-top: 3%;
            text-align: center;
        }
        .sessionTable {
            width: 100%;

        }
        .tr {
            width: 100%;
        }
        .header {
            background-color: green;
        }
    </style>
</head>

<body>
    <div id="nav-placeholder">

    </div>

    <script>
        $(function () {
            $("#nav-placeholder").load("nav.html");
        });
    </script>

    <div id="introduction">
        <h1 class="text-center">WELCOME TO AUCTION.COM</h1>
        <p>If you are attempting to access our website from outside one of the countries listed below, we do not yet
            service your area. We are working to expand our services and hope to be available soon.

            United States, Canada, Guam, Puerto Rico and U.S. Virgin Islands

            If you are attempting to access our website from within one of the countries listed above and are using
            Internet Explorer, you will need to download Chrome, Firefox or Edge to continue bidding and buying homes on
            our website. Auction.com no longer supports Internet Explorer.</p>
    </div>
    <a href=""></a>
    <table></table>
    <div id="content"></div>
    

    <script>
        fetch('/auth/all_sessions', {
            method: 'GET',
        })
            .then(response => response.json()) // Parse the response as JSON
            .then(data => {
                let d = '<table class="sessionTable">';
                    d += '<thead class = "header"> <tr> <th>ID</th> <th>Name</th> <th>Start Time</th> <th>End Time</th> </tr> </thead> <tbody>'
                $.each(data["sessions"],function(e, v){   
                    d += '<tr>'   
                    d += '<th>' + '<a id ="' + v['ID'] + '" href="/items/' + v['ID'] + '">' + v['ID'] + '</th>'
                        d += '<th>' + '<a id ="' + v['ID'] + '" href="/items/' + v['ID'] + '">' + v['Name'] + '</th>'
                            d += '<th>' + '<a id ="' + v['ID'] + '" href="/items/' + v['ID'] + '">' + v['Start_time'] + '</th>'
                                d += '<th>' + '<a id ="' + v['ID'] + '" href="/items/' + v['ID'] + '">' + v['End_time'] + '</th>'
                
                    
                    d += '</tr>'
                    
                })
                d += '</tbody></table>'
                $('#content').html(d);
            })
            .catch(error => console.error('Error:', error));
    </script>
</body>

</html>